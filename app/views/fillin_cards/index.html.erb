<h1 class=" text-center text-primary">Fill-in Cards</h1>

<div class="text-center">
  <%= link_to 'Tests', fillin_tests_path, class: 'btn btn-lg btn-primary'%>
</div>

<br>

<div class="row">
  <%= link_to 'Fill-in Domains', fillin_domains_path, class: 'col-sm-6 btn btn-info'%>
  <%= link_to 'Fill-in Categories', fillin_categories_path, class: 'col-sm-6 btn btn-info'%>
</div>


<table class="table">
  <thead>
    <tr>
      <th>Fill-in Domains</th>
      <th>Fill-in Categories</th>
    </tr>
  </thead>

  <tbody>
    <% FillinDomain.all.each do |domain| %>
      <tr>
        <td>
          <h2><%= domain.name %> </h2>
          <%= link_to "+ Add Category within Domain", new_fillin_category_path(fillin_domain_id: domain), class: 'btn btn-sm btn-success' %>
        </td>
        <td>
          <% domain.fillin_categories.order(:name).each do |cat|%>
            <div class="row">
              <div class="col-sm-12">
                <table class="table table-sm table-borderless table-hover">
                    <tbody>
                      <tr>
                        <td>
                          <span class="badge badge-pill badge-info"><%= cat.fillin_cards.size%> </span> <%= link_to cat.name, fillin_category_path(cat) %>
                        </td>
                        <td>
                          <%= link_to "+ Add Card", new_fillin_card_path(fillin_domain_id: domain, fillin_category_id: cat), class: "btn btn-sm btn-success float-right" %>
                        </td>
                      </tr>
                    </tbody>
                  </table>
              </div>
            </div>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
